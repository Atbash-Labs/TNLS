<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/"/>

    <title>Ethereum Keyfile &#8212; Atbash documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css"/>
    <link rel="stylesheet" type="text/css" href="../../../../_static/alabaster.css"/>
    <script data-url_root="../../../../" id="documentation_options"
            src="../../../../_static/documentation_options.js"></script>
    <script src="../../../../_static/jquery.js"></script>
    <script src="../../../../_static/underscore.js"></script>
    <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html"/>
    <link rel="search" title="Search" href="../../../../search.html"/>

    <link rel="stylesheet" href="../../../../_static/custom.css" type="text/css"/>


    <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9"/>

</head>
<body>


<div class="document">
    <div class="documentwrapper">
        <div class="bodywrapper">


            <div class="body" role="main">

                <section id="ethereum-keyfile">
                    <h1>Ethereum Keyfile<a class="headerlink" href="#ethereum-keyfile"
                                           title="Permalink to this heading">¶</a></h1>
                    <p>A library for handling the encrypted keyfiles used to store ethereum
                        private keys</p>
                    <blockquote>
                        <div><p>This library and repository was previously located at
                            <a class="reference external" href="https://github.com/pipermerriam/ethereum-keyfile">https://github.com/pipermerriam/ethereum-keyfile</a>.
                            It was transferred
                            to the Ethereum foundation github in November 2017 and renamed to
                            <code class="docutils literal notranslate"><span class="pre">eth-keyfile</span></code>. The
                            PyPi package was also renamed from
                            <code class="docutils literal notranslate"><span class="pre">ethereum-keyfile</span></code>
                            to `eth-keyfile.</p>
                        </div>
                    </blockquote>
                    <section id="installation">
                        <h2>Installation<a class="headerlink" href="#installation"
                                           title="Permalink to this heading">¶</a></h2>
                        <div class="highlight-sh notranslate">
                            <div class="highlight"><pre><span></span>pip install eth-keyfile
</pre>
                            </div>
                        </div>
                    </section>
                    <section id="development">
                        <h2>Development<a class="headerlink" href="#development" title="Permalink to this heading">¶</a>
                        </h2>
                        <div class="highlight-sh notranslate">
                            <div class="highlight"><pre><span></span>pip install -e . -r requirements-dev.txt
</pre>
                            </div>
                        </div>
                        <section id="running-the-tests">
                            <h3>Running the tests<a class="headerlink" href="#running-the-tests"
                                                    title="Permalink to this heading">¶</a></h3>
                            <p>You can run the tests with:</p>
                            <div class="highlight-sh notranslate">
                                <div class="highlight"><pre><span></span>py.test tests
</pre>
                                </div>
                            </div>
                            <p>Or you can install <code class="docutils literal notranslate"><span
                                    class="pre">tox</span></code> to run the full test suite.</p>
                        </section>
                        <section id="releasing">
                            <h3>Releasing<a class="headerlink" href="#releasing" title="Permalink to this heading">¶</a>
                            </h3>
                            <p>Pandoc is required for transforming the markdown README to the proper
                                format to render correctly on pypi.</p>
                            <p>For Debian-like systems:</p>
                            <div class="highlight-default notranslate">
                                <div class="highlight"><pre><span></span><span class="n">apt</span> <span class="n">install</span> <span
                                        class="n">pandoc</span>
</pre>
                                </div>
                            </div>
                            <p>Or on OSX:</p>
                            <div class="highlight-sh notranslate">
                                <div class="highlight"><pre><span></span>brew install pandoc
</pre>
                                </div>
                            </div>
                            <p>To release a new version:</p>
                            <div class="highlight-sh notranslate">
                                <div class="highlight"><pre><span></span>make release <span class="nv">bump</span><span
                                        class="o">=</span><span class="nv">$$</span>VERSION_PART_TO_BUMP<span
                                        class="nv">$$</span>
</pre>
                                </div>
                            </div>
                            <section id="how-to-bumpversion">
                                <h4>How to bumpversion<a class="headerlink" href="#how-to-bumpversion"
                                                         title="Permalink to this heading">¶</a></h4>
                                <p>The version format for this repo is <code class="docutils literal notranslate"><span
                                        class="pre">{major}.{minor}.{patch}</span></code> for
                                    stable, and <code class="docutils literal notranslate"><span class="pre">{major}.{minor}.{patch}-{stage}.{devnum}</span></code>
                                    for unstable
                                    (<code class="docutils literal notranslate"><span class="pre">stage</span></code>
                                    can be alpha or beta).</p>
                                <p>To issue the next version in line, specify which part to bump, like
                                    <code class="docutils literal notranslate"><span class="pre">make</span> <span
                                            class="pre">release</span> <span class="pre">bump=minor</span></code> or
                                    <code class="docutils literal notranslate"><span class="pre">make</span> <span
                                            class="pre">release</span> <span class="pre">bump=devnum</span></code>.</p>
                                <p>If you are in a beta version, <code class="docutils literal notranslate"><span
                                        class="pre">make</span> <span class="pre">release</span> <span class="pre">bump=stage</span></code>
                                    will switch to
                                    a stable.</p>
                                <p>To issue an unstable version when the current version is stable, specify
                                    the new version explicitly, like
                                    <code class="docutils literal notranslate"><span class="pre">make</span> <span
                                            class="pre">release</span> <span class="pre">bump=&quot;--new-version</span>
                                        <span class="pre">2.0.0-alpha.1</span> <span
                                                class="pre">devnum&quot;</span></code></p>
                            </section>
                        </section>
                    </section>
                    <section id="documentation">
                        <h2>Documentation<a class="headerlink" href="#documentation"
                                            title="Permalink to this heading">¶</a></h2>
                        <section id="eth-keyfile-load-keyfile-path-or-file-obj-keyfile-json">
                            <h3><code class="docutils literal notranslate"><span class="pre">eth_keyfile.load_keyfile(path_or_file_obj)</span>
                                <span class="pre">--&gt;</span> <span class="pre">keyfile_json</span></code><a
                                    class="headerlink" href="#eth-keyfile-load-keyfile-path-or-file-obj-keyfile-json"
                                    title="Permalink to this heading">¶</a></h3>
                            <p>Takes either a filesystem path represented as a string or a file object
                                and returns the parsed keyfile json as a python dictionary.</p>
                            <div class="highlight-python notranslate">
                                <div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span
                                        class="kn">from</span> <span class="nn">eth_keyfile</span> <span class="kn">import</span> <span
                                        class="n">load_keyfile</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">load_keyfile</span><span class="p">(</span><span class="s1">&#39;path/to-my-keystore/keystore.json&#39;</span><span
                                            class="p">)</span>
<span class="go">{</span>
<span class="go">    &quot;crypto&quot; : {</span>
<span class="go">        &quot;cipher&quot; : &quot;aes-128-ctr&quot;,</span>
<span class="go">        &quot;cipherparams&quot; : {</span>
<span class="go">            &quot;iv&quot; : &quot;6087dab2f9fdbbfaddc31a909735c1e6&quot;</span>
<span class="go">        },</span>
<span class="go">        &quot;ciphertext&quot; : &quot;5318b4d5bcd28de64ee5559e671353e16f075ecae9f99c7a79a38af5f869aa46&quot;,</span>
<span class="go">        &quot;kdf&quot; : &quot;pbkdf2&quot;,</span>
<span class="go">        &quot;kdfparams&quot; : {</span>
<span class="go">            &quot;c&quot; : 262144,</span>
<span class="go">            &quot;dklen&quot; : 32,</span>
<span class="go">            &quot;prf&quot; : &quot;hmac-sha256&quot;,</span>
<span class="go">            &quot;salt&quot; : &quot;ae3cd4e7013836a3df6bd7241b12db061dbe2c6785853cce422d148a624ce0bd&quot;</span>
<span class="go">        },</span>
<span class="go">        &quot;mac&quot; : &quot;517ead924a9d0dc3124507e3393d175ce3ff7c1e96529c6c555ce9e51205e9b2&quot;</span>
<span class="go">    },</span>
<span class="go">    &quot;id&quot; : &quot;3198bc9c-6672-5ab3-d995-4942343ae5b6&quot;,</span>
<span class="go">    &quot;version&quot; : 3</span>
<span class="go">}</span>
</pre>
                                </div>
                            </div>
                        </section>
                        <section
                                id="eth-keyfile-create-keyfile-json-private-key-password-kdf-pbkdf2-work-factor-none-keyfile-json">
                            <h3><code class="docutils literal notranslate"><span class="pre">eth_keyfile.create_keyfile_json(private_key,</span>
                                <span class="pre">password,</span> <span class="pre">kdf=&quot;pbkdf2&quot;,</span>
                                <span class="pre">work_factor=None)</span> <span class="pre">--&gt;</span> <span
                                        class="pre">keyfile_json</span></code><a class="headerlink"
                                                                                 href="#eth-keyfile-create-keyfile-json-private-key-password-kdf-pbkdf2-work-factor-none-keyfile-json"
                                                                                 title="Permalink to this heading">¶</a>
                            </h3>
                            <p>Takes the following parameters:</p>
                            <ul class="simple">
                                <li><p><code class="docutils literal notranslate"><span
                                        class="pre">private_key</span></code>: A bytestring of length 32</p></li>
                                <li><p><code class="docutils literal notranslate"><span
                                        class="pre">password</span></code>: A bytestring which will be the password that
                                    can be
                                    used to decrypt the resulting keyfile.</p></li>
                                <li><p><code class="docutils literal notranslate"><span class="pre">kdf</span></code>:
                                    The key derivation function. Allowed values are <code
                                            class="docutils literal notranslate"><span class="pre">pbkdf2</span></code>
                                    and <code class="docutils literal notranslate"><span
                                            class="pre">scrypt</span></code>. By default, <code
                                            class="docutils literal notranslate"><span class="pre">pbkdf2</span></code>
                                    will be used.</p></li>
                                <li><p><code class="docutils literal notranslate"><span
                                        class="pre">work_factor</span></code>: The work factor which will be used for
                                    the given key
                                    derivation function. By default <code class="docutils literal notranslate"><span
                                            class="pre">1000000</span></code> will be used for
                                    <code class="docutils literal notranslate"><span class="pre">pbkdf2</span></code>
                                    and <code class="docutils literal notranslate"><span
                                            class="pre">262144</span></code> for <code
                                            class="docutils literal notranslate"><span class="pre">scrypt</span></code>.
                                </p></li>
                            </ul>
                            <p>Returns the keyfile json as a python dictionary.</p>
                            <div class="highlight-python notranslate">
                                <div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span
                                        class="n">private_key</span> <span class="o">=</span> <span
                                        class="sa">b</span><span class="s1">&#39;</span><span class="se">\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01</span><span
                                        class="s1">&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">create_keyfile_json</span><span class="p">(</span><span class="n">private_key</span><span
                                            class="p">,</span> <span class="sa">b</span><span
                                            class="s1">&#39;foo&#39;</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    &quot;address&quot; : &quot;1a642f0e3c3af545e7acbd38b07251b3990914f1&quot;,</span>
<span class="go">    &quot;crypto&quot; : {</span>
<span class="go">        &quot;cipher&quot; : &quot;aes-128-ctr&quot;,</span>
<span class="go">        &quot;cipherparams&quot; : {</span>
<span class="go">            &quot;iv&quot; : &quot;6087dab2f9fdbbfaddc31a909735c1e6&quot;</span>
<span class="go">        },</span>
<span class="go">        &quot;ciphertext&quot; : &quot;5318b4d5bcd28de64ee5559e671353e16f075ecae9f99c7a79a38af5f869aa46&quot;,</span>
<span class="go">        &quot;kdf&quot; : &quot;pbkdf2&quot;,</span>
<span class="go">        &quot;kdfparams&quot; : {</span>
<span class="go">            &quot;c&quot; : 262144,</span>
<span class="go">            &quot;dklen&quot; : 32,</span>
<span class="go">            &quot;prf&quot; : &quot;hmac-sha256&quot;,</span>
<span class="go">            &quot;salt&quot; : &quot;ae3cd4e7013836a3df6bd7241b12db061dbe2c6785853cce422d148a624ce0bd&quot;</span>
<span class="go">        },</span>
<span class="go">        &quot;mac&quot; : &quot;517ead924a9d0dc3124507e3393d175ce3ff7c1e96529c6c555ce9e51205e9b2&quot;</span>
<span class="go">    },</span>
<span class="go">    &quot;id&quot; : &quot;3198bc9c-6672-5ab3-d995-4942343ae5b6&quot;,</span>
<span class="go">    &quot;version&quot; : 3</span>
<span class="go">}</span>
</pre>
                                </div>
                            </div>
                        </section>
                        <section id="eth-keyfile-decode-keyfile-json-keyfile-json-password-private-key">
                            <h3><code class="docutils literal notranslate"><span class="pre">eth_keyfile.decode_keyfile_json(keyfile_json,</span>
                                <span class="pre">password)</span> <span class="pre">--&gt;</span> <span class="pre">private_key</span></code><a
                                    class="headerlink"
                                    href="#eth-keyfile-decode-keyfile-json-keyfile-json-password-private-key"
                                    title="Permalink to this heading">¶</a></h3>
                            <p>Takes the keyfile json as a python dictionary and the password for the
                                keyfile, returning the decoded private key.</p>
                            <div class="highlight-python notranslate">
                                <div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span
                                        class="n">keyfile_json</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;crypto&quot;</span> <span class="p">:</span> <span
                                            class="p">{</span>
<span class="gp">... </span>        <span class="s2">&quot;cipher&quot;</span> <span class="p">:</span> <span
                                            class="s2">&quot;aes-128-ctr&quot;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s2">&quot;cipherparams&quot;</span> <span class="p">:</span> <span
                                            class="p">{</span>
<span class="gp">... </span>            <span class="s2">&quot;iv&quot;</span> <span class="p">:</span> <span
                                            class="s2">&quot;6087dab2f9fdbbfaddc31a909735c1e6&quot;</span>
<span class="gp">... </span>        <span class="p">},</span>
<span class="gp">... </span>        <span class="s2">&quot;ciphertext&quot;</span> <span class="p">:</span> <span
                                            class="s2">&quot;5318b4d5bcd28de64ee5559e671353e16f075ecae9f99c7a79a38af5f869aa46&quot;</span><span
                                            class="p">,</span>
<span class="gp">... </span>        <span class="s2">&quot;kdf&quot;</span> <span class="p">:</span> <span class="s2">&quot;pbkdf2&quot;</span><span
                                            class="p">,</span>
<span class="gp">... </span>        <span class="s2">&quot;kdfparams&quot;</span> <span class="p">:</span> <span
                                            class="p">{</span>
<span class="gp">... </span>            <span class="s2">&quot;c&quot;</span> <span class="p">:</span> <span class="mi">262144</span><span
                                            class="p">,</span>
<span class="gp">... </span>            <span class="s2">&quot;dklen&quot;</span> <span class="p">:</span> <span
                                            class="mi">32</span><span class="p">,</span>
<span class="gp">... </span>            <span class="s2">&quot;prf&quot;</span> <span class="p">:</span> <span
                                            class="s2">&quot;hmac-sha256&quot;</span><span class="p">,</span>
<span class="gp">... </span>            <span class="s2">&quot;salt&quot;</span> <span class="p">:</span> <span
                                            class="s2">&quot;ae3cd4e7013836a3df6bd7241b12db061dbe2c6785853cce422d148a624ce0bd&quot;</span>
<span class="gp">... </span>        <span class="p">},</span>
<span class="gp">... </span>        <span class="s2">&quot;mac&quot;</span> <span class="p">:</span> <span class="s2">&quot;517ead924a9d0dc3124507e3393d175ce3ff7c1e96529c6c555ce9e51205e9b2&quot;</span>
<span class="gp">... </span>    <span class="p">},</span>
<span class="gp">... </span>    <span class="s2">&quot;id&quot;</span> <span class="p">:</span> <span class="s2">&quot;3198bc9c-6672-5ab3-d995-4942343ae5b6&quot;</span><span
                                            class="p">,</span>
<span class="gp">... </span>    <span class="s2">&quot;version&quot;</span> <span class="p">:</span> <span
                                            class="mi">3</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">decode_keyfile_json</span><span class="p">(</span><span class="n">keyfile_json</span><span
                                            class="p">,</span> <span class="sa">b</span><span
                                            class="s1">&#39;foo&#39;</span><span class="p">)</span>
<span class="go">b&#39;\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01&#39;</span>
</pre>
                                </div>
                            </div>
                        </section>
                        <section id="eth-keyfile-extract-key-from-keyfile-path-or-file-obj-password-private-key">
                            <h3><code class="docutils literal notranslate"><span class="pre">eth_keyfile.extract_key_from_keyfile(path_or_file_obj,</span>
                                <span class="pre">password)</span> <span class="pre">--&gt;</span> <span class="pre">private_key</span></code><a
                                    class="headerlink"
                                    href="#eth-keyfile-extract-key-from-keyfile-path-or-file-obj-password-private-key"
                                    title="Permalink to this heading">¶</a></h3>
                            <p>Takes a filesystem path represented by a string or a file object and the
                                password for the keyfile. Returns the private key as a bytestring.</p>
                            <div class="highlight-python notranslate">
                                <div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span
                                        class="n">extract_key_from_keyfile</span><span class="p">(</span><span
                                        class="s1">&#39;path/to-my-keystore/keyfile.json&#39;</span><span
                                        class="p">,</span> <span class="sa">b</span><span
                                        class="s1">&#39;foo&#39;</span><span class="p">)</span>
<span class="go">b&#39;\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01\x01&#39;</span>
</pre>
                                </div>
                            </div>
                        </section>
                    </section>
                </section>


            </div>

        </div>
    </div>
    <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <h1 class="logo"><a href="../../../../index.html">Atbash</a></h1>


            <h3>Navigation</h3>

            <div class="relations">
                <h3>Related Topics</h3>
                <ul>
                    <li><a href="../../../../index.html">Documentation overview</a>
                        <ul>
                        </ul>
                    </li>
                </ul>
            </div>
            <div id="searchbox" style="display: none" role="search">
                <h3 id="searchlabel">Quick search</h3>
                <div class="searchformwrapper">
                    <form class="search" action="../../../../search.html" method="get">
                        <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off"
                               autocapitalize="off" spellcheck="false"/>
                        <input type="submit" value="Go"/>
                    </form>
                </div>
            </div>
            <script>document.getElementById('searchbox').style.display = "block"</script>


        </div>
    </div>
    <div class="clearer"></div>
</div>
<div class="footer">
    &copy;2022, Leor Fishman, Ben Simon, Kent Worcester, Prince Fefar.

    |
    Powered by <a href="http://sphinx-doc.org/">Sphinx 5.1.1</a>
    &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>

    |
    <a href="../../../../_sources/venv/Lib/site-packages/eth_keyfile-0.5.1.dist-info/DESCRIPTION.rst.txt"
       rel="nofollow">Page source</a>
</div>


</body>
</html>